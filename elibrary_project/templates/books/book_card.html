<div class="book-card row">
    {% csrf_token %}
    <div class="col-md-2">
        {% if book.cover %}
        <img src="{{ book.cover.url }}" alt="{{ book.title }}" class="book-cover">
        {% else %}
        <div class="book-cover d-flex align-items-center justify-content-center bg-light">
            <i class="fas fa-book text-muted"></i>
        </div>
        {% endif %}
    </div>
    <div class="col-md-8">
        <h5>
            <a href="{% url 'books:detail' book.pk %}" class="text-decoration-none">
                {{ book.title }}
            </a>
        </h5>
        <p class="text-muted mb-1">
            <i class="fas fa-user"></i> {{ book.author }} •
            <i class="fas fa-calendar"></i> {{ book.year }} •
            <i class="fas fa-tag"></i> {{ book.get_genre_display }}
        </p>
        <p class="text-truncate">{{ book.description|truncatewords:20 }}</p>
    </div>
    <div class="col-md-2 text-end">
        <button type="button" id="favorite-btn-{{ book.pk }}"
            class="favorite-btn {% if is_favorite %}favorited{% endif %}" onclick="toggleFavorite('{{ book.pk }}')">
            {% if is_favorite %}
            <i class="fas fa-star"></i>
            {% else %}
            <i class="far fa-star"></i>
            {% endif %}
        </button>
    </div>
</div>